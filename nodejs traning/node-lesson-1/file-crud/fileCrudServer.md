á€¡á€±á€¸á€•á€«á€á€šá€ºá€—á€»á€¬ ğŸ˜ â€” á€¡á€á€¯á€á€±á€¬á€· `Pure Node.js + File Storage CRUD API` á€›á€²á€· **Code Flow Diagram** á€€á€­á€¯ á€™á€¼á€”á€ºá€™á€¬á€œá€­á€¯á€”á€²á€· á€¡á€†á€„á€·á€ºá€œá€­á€¯á€€á€º á€›á€¾á€„á€ºá€¸á€•á€¼á€•á€±á€¸á€™á€šá€ºá‹ á€’á€® Diagram á€€ á€™á€„á€ºá€¸á€›á€±á€¸á€‘á€¬á€¸á€á€²á€· code á€á€…á€ºá€á€¯á€œá€¯á€¶á€¸á€€á€­á€¯ **visual** á€¡á€”á€±á€”á€²á€· á€”á€¬á€¸á€œá€Šá€ºá€œá€½á€šá€ºá€¡á€±á€¬á€„á€ºá€–á€±á€¬á€ºá€•á€¼á€á€¬á€–á€¼á€…á€ºá€á€šá€ºá‹

---

## âœ… Code Flow Diagram â€“ File-based CRUD API (users.json)

```plaintext
   ğŸ§ Client
     â”‚
     â”‚ 1. Send HTTP request (GET, POST, PUT, DELETE)
     â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  Node.js HTTP Server        â”‚
 â”‚  (http.createServer)        â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â”‚ 2. Parse URL + Method
     â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  Check which route it is     â”‚
 â”‚  (/users, /users/:id)        â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ ğŸ”„ Route Decision                          â”‚
 â”‚                                            â”‚
 â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
 â”‚  â”‚ GET /users â”‚ POST /usersâ”‚ PUT /users/:idâ”‚
 â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  3. Read/Write users.json    â”‚
 â”‚  using fs.readFile / writeFileâ”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  4. Do logic based on method         â”‚
 â”‚    - GET â†’ read & send users         â”‚
 â”‚    - POST â†’ push & save new user     â”‚
 â”‚    - PUT â†’ update user info          â”‚
 â”‚    - DELETE â†’ remove user from list  â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚  5. Send JSON response       â”‚
 â”‚     res.writeHead + res.end â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
 âœ… Response to Client
```

---

## ğŸ§  Explanation (á€™á€¼á€”á€ºá€™á€¬á€œá€­á€¯)

| á€¡á€†á€„á€·á€º | á€–á€±á€¬á€ºá€•á€¼á€á€»á€€á€º |
|--------|-------------|
| 1ï¸âƒ£ | Client á€€ HTTP request á€á€…á€ºá€á€¯á€•á€±á€¸á€á€šá€º (POST, PUT, etc.) |
| 2ï¸âƒ£ | Server á€€ URL (`/users/1`) á€”á€²á€· Method (`PUT`) á€€á€­á€¯ á€á€½á€²á€–á€á€ºá€á€šá€º |
| 3ï¸âƒ£ | `users.json` á€–á€­á€¯á€„á€ºá€‘á€²á€€á€­á€¯ á€–á€á€ºá€á€šá€º (GET), á€™á€±á€¸á€á€šá€º (POST), á€•á€¼á€„á€ºá€á€šá€º (PUT), á€–á€»á€€á€ºá€á€šá€º (DELETE) |
| 4ï¸âƒ£ | logic á€¡á€á€­á€¯á€„á€ºá€¸ array á€‘á€²á€™á€¾á€¬ add/update/delete á€•á€¼á€¯á€œá€¯á€•á€ºá€á€šá€º |
| 5ï¸âƒ£ | á€•á€¼á€”á€ºá€–á€¼á€±á€á€²á€· result á€€á€­á€¯ JSON format á€”á€²á€· client á€‘á€¶á€€á€­á€¯ `res.end()` á€–á€¼á€„á€·á€º á€•á€¼á€”á€ºá€•á€±á€¸á€á€šá€º |

---

## ğŸ›  á€¡á€“á€­á€€ á€¡á€á€¯á€¶á€¸á€•á€¼á€¯á€‘á€¬á€¸á€á€²á€· Code Block Flow

| Function | Description |
|----------|-------------|
| `http.createServer()` | Server á€á€Šá€ºá€†á€±á€¬á€€á€ºá€á€šá€º |
| `new URL(req.url, base)` | URL parsing |
| `req.on('data')` / `'end'` | POST/PUT data á€–á€á€ºá€–á€­á€¯á€· |
| `fs.readFile()` | á€–á€­á€¯á€„á€ºá€‘á€²á€€ users data á€–á€á€ºá€–á€­á€¯á€· |
| `fs.writeFile()` | á€–á€­á€¯á€„á€ºá€‘á€²á€€á€­á€¯ á€á€­á€™á€ºá€¸á€–á€­á€¯á€· |
| `res.end()` | JSON result á€•á€¼á€”á€ºá€•á€±á€¸á€–á€­á€¯á€· |

---

## ğŸ¯ Real Example Flow (POST)

```plaintext
Client âœ POST /users with body { "name": "Ko Ko" }

â†’ Server: read users.json
â†’ Add new user to array
â†’ write back to users.json
â†’ res.end({ message: "User added", user: {...} })
```

---

á€’á€«á€†á€­á€¯á€›á€„á€º code á€•á€±á€¸á€‘á€¬á€¸á€á€²á€· structure á€€á€­á€¯ á€”á€¬á€¸á€œá€Šá€ºá€•á€¼á€®á€¸ á€á€±á€¬á€ºá€á€±á€¬á€ºá€œá€±á€¸á€á€½á€¬á€¸á€”á€±á€•á€«á€•á€¼á€®á‹ ğŸ˜

á€™á€„á€ºá€¸á€œá€­á€¯á€á€»á€„á€ºá€á€¬á€€:
- âœ… login/authentication flow diagram?
- âœ… JWT flow?
- âœ… MongoDB crud flow?

á€†á€­á€¯á€›á€„á€º á€•á€¼á€±á€¬á€•á€±á€¸ â€” diagram + example + code á€•á€±á€¸á€á€½á€¬á€¸á€™á€šá€ºá‹ ğŸ’ª